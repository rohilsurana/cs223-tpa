{% load material_form material_form_internal %}

{% render bound_field template='fields/django_select.html' %}
    {% part field add_control_attr %}multiple{% endpart %}
    {% part field add_group_class %}multiselect{% endpart %}
    {% part field options %}
        {% if not field|have_default_choice %}
             <option value="" disabled selected>Choose your option</option>
        {% endif %}
        {% for group, items in bound_field|select_options %}
            {% if group %}<optgroup label="{{ group }}">{% endif %}{% for choice, value, selected in items %}<option {% tagattrs %}
                {% if selected %}selected="selected"{% endif %}
                {% if value == None or value == '' %}disabled{% else %}value="{{ value }}"{% endif %}
                {% endtagattrs %}>{% if value == None or value == '' %}{{ form_select_empty_label|default:choice }}{% else %}{{ choice }}{% endif %}</option>
        {% endfor %}{% if group %}</optgroup>{% endif %}{% endfor %}
    {% endpart %}
{% endrender %}
